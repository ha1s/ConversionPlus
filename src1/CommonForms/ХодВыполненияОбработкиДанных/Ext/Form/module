Перем мСтарыйПроцент;

Процедура УстановитьМаксимальноеЗначение(ПутьКДанным) Экспорт
	
	Если МаксимальноеЗначение <> 0 Тогда
		ЭлементыФормы.Индикатор.МаксимальноеЗначение = МаксимальноеЗначение;
	КонецЕсли;

КонецПроцедуры

Процедура СформироватьЗаголовок(ПутьКДанным = "")
	
	Заголовок = НаименованиеОбработкиДанных;
	
КонецПроцедуры

Процедура УстановитьВидимостьПриИзмененииКомментарийДействия(ПутьКДанным) // Подключение данной процедуры-обработчика выполняется из кода конфигурации
	
	ЭлементыФормы.КомментарийДействия.Видимость = НЕ ПустаяСтрока(СокрЛП(КомментарийОбработкиДанных));
	
КонецПроцедуры

Процедура ПриОткрытии()
	
	Если МаксимальноеЗначение <> 0 Тогда
		ЭлементыФормы.Индикатор.МаксимальноеЗначение = МаксимальноеЗначение;
	КонецЕсли;
	
	СформироватьЗаголовок();
	
КонецПроцедуры

Процедура ПриПовторномОткрытии(СтандартнаяОбработка)
	
	Если МаксимальноеЗначение <> 0 Тогда
		ЭлементыФормы.Индикатор.МаксимальноеЗначение = МаксимальноеЗначение;
	КонецЕсли;
	
	СформироватьЗаголовок();
	
КонецПроцедуры

ПодключитьОбработчикИзмененияДанных("КомментарийОбработкиДанных",  "УстановитьВидимостьПриИзмененииКомментарийДействия");

ПодключитьОбработчикИзмененияДанных("НаименованиеОбработкиДанных", "СформироватьЗаголовок");

ПодключитьОбработчикИзмененияДанных("МаксимальноеЗначение", "УстановитьМаксимальноеЗначение");

